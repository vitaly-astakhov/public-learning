# [Content negotiation](https://www.rfc-editor.org/rfc/rfc9110.html#section-12)

**Content negotiation (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ)** - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π HTTP-—Å–µ—Ä–≤–µ—Ä–∞–º–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö –∫–ª–∏–µ–Ω—Ç–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–µ—Ä–≤–µ—Ä—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Ä–µ—Å—É—Ä—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –∏–ª–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö.

## –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (Content negotiation preferences)

–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ —Ä–µ—Å—É—Ä—Å–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞. –≠—Ç–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å —è–∑—ã–∫ (`Accept-Language`), —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (`Accept`, `Accept-CH`), –∫–æ–¥–∏—Ä–æ–≤–∫—É (`Accept-Encoding`) –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (Content negotiation patterns)

- [**–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ (Proactive negotiation aka Server-driven content negotiation)**](https://www.rfc-editor.org/rfc/rfc9110.html#section-12.1): –°–µ—Ä–≤–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –≤ –∑–∞–ø—Ä–æ—Å–µ, —Ç–∞–∫–∏—Ö –∫–∞–∫ `Accept`, `Accept-CH`, `Accept-CH-Lifetime`, `Accept-Language`, `Accept-Encoding`, `User-Agent`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–µ—Ä–≤–µ—Ä—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç.
- [**–†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ (Reactive Negotiation aka agent-driven negotiation)**](https://www.rfc-editor.org/rfc/rfc9110.html#section-12.2): –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞.
- [**–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (Request Content Negotiation)**](https://www.rfc-editor.org/rfc/rfc9110.html#section-12.3): –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã.

## Content Negotiation Fields

–ï—Å–ª–∏ —ç—Ç–∏ –ø–æ–ª—è, –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è (‚û°Ô∏è) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∞–≥–µ–Ω—Ç–æ–º (**uses agent**), —Ç–æ –æ–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç –æ —Ç–æ–º, —á—Ç–æ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
–ï—Å–ª–∏ —ç—Ç–∏ –ø–æ–ª—è, –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è (‚¨ÖÔ∏è) —Å–µ—Ä–≤–µ—Ä–æ–º, —Ç–æ –æ–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç –æ —Ç–æ–º, —á—Ç–æ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–µ—Ä–≤–µ—Ä.

### [Accept](https://www.rfc-editor.org/rfc/rfc9110.html#section-12.5.1)

**`Accept`** (üé© ‚û°Ô∏è ‚¨ÖÔ∏è)- —ç—Ç–æ –ø–æ–ª–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã—Ö *—Ç–∏–ø–∞—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–∞*.

Fetch API –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ fetch [^1] –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ **`Accept`**, –µ—Å–ª–∏ —ç—Ç–æ –ø–æ–ª–µ –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ —è–≤–Ω–æ (*explicitly*), –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π ([*destination*](https://fetch.spec.whatwg.org/#concept-request-destination)) –∑–∞–ø—Ä–æ—Å–∞:

- `"document"`, `"frame"`, `"iframe"` - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–≤–Ω–æ `text/html,application/xhtml+xml,application/xml;q=0,9,*/*;q=0,8`. –°–º: [*document Accept header value*](https://fetch.spec.whatwg.org/#document-accept-header-value)
- `"image"` - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–≤–Ω–æ `image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5`
- `"json"` - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–≤–Ω–æ `application/json,*/*;q=0.5`
- `"style"` - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–≤–Ω–æ `text/css,*/*;q=0.1`

### Accept-CH

### [Accept-Charset](https://www.rfc-editor.org/rfc/rfc9110.html#section-12.5.2) üé© ‚û°Ô∏è

### [Accept-Encoding](https://www.rfc-editor.org/rfc/rfc9110.html#section-12.5.3) üé© ‚û°Ô∏è‚¨ÖÔ∏è

### [Accept-Language](https://www.rfc-editor.org/rfc/rfc9110.html#section-12.5.4)

**`Accept-Language`** (üé© ‚û°Ô∏è‚¨ÖÔ∏è) - –≠—Ç–æ –ø–æ–ª–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–∞–∫–∏–µ *—è–∑—ã–∫–∏* –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ —Ç–æ–º—É –∂–µ —Ä–µ—Å—É—Ä—Å—É

### [Vary](https://www.rfc-editor.org/rfc/rfc9110.html#section-12.5.5)

**`Vary`** (üé© ‚¨ÖÔ∏è) - –≠—Ç–æ –ø–æ–ª–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º –∫–∞–∫–∏–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, –æ–∂–∏–¥–∞–µ—Ç —É–≤–∏–¥–µ—Ç—å —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—Ä–æ—Å–µ.

**–ü—Ä–∏–º–µ—Ä**: `Vary: accept-encoding, accept-language`

[^1]: [–ê–ª–≥–æ—Ä–∏—Ç–º fetch](https://fetch.spec.whatwg.org/#concept-fetch) —à–∞–≥ 13.
