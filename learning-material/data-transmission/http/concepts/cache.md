# [Cache](https://www.rfc-editor.org/rfc/rfc9111)

**Cache** - —ç—Ç–æ [–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ](https://www.rfc-editor.org/rfc/rfc9111#:~:text=Although%20caching%20is%20an%20entirely%20OPTIONAL) –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (**local store**) –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (**response messages**) –∏ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞, —É–ø—Ä–∞–≤–ª—è—é—â–∞—è —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –∏ —É–¥–∞–ª–µ–Ω–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏–π. –ö—ç—à —Ö—Ä–∞–Ω–∏—Ç –∫—ç—à–∏—Ä—É–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏ –ø—Ä–∏ –±—É–¥—É—â–∏—Ö —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.

–¶–µ–ª—å—é HTTP-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—É—Ç–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ—Ç–≤–µ—Ç–Ω–æ–≥–æ (**response**) —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

## Cache types

Cache –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞:

###  Shared cache (–æ–±—â–∏–π –∫—ç—à)

**Shared cache** - —ç—Ç–æ –∫—ç—à, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–≤–µ—Ç—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ–ª–µ–µ —á–µ–º –æ–¥–Ω–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. Shared cache –æ–±—ã—á–Ω–æ, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞, —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Å–æ—Å—Ç–∞–≤–µ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ ([**intermediary** üìÇ](./intermediaries.md))

[Storing Responses to Authenticated Requests](https://www.rfc-editor.org/rfc/rfc9111#name-storing-responses-to-authen)

###  Private cache (—á–∞—Å—Ç–Ω—ã–π –∫—ç—à)

**Private cache (—á–∞—Å—Ç–Ω—ã–π –∫—ç—à)** - —ç—Ç–æ –∫—ç—à, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ß–∞—Å—Ç–æ –æ–Ω–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≥–µ–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (**user agent**)

## –û–±—â–µ–µ

**Cache key** - —ç—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∫—ç—à –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ—Ç–≤–µ—Ç–∞

–ß–∞—â–µ –≤—Å–µ–≥–æ –≤ –∫—ç—à–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç ([**200 OK**](https://www.rfc-editor.org/rfc/rfc9110.html#name-200-ok)) –Ω–∞ –∑–∞–ø—Ä–æ—Å —Å –º–µ—Ç–æ–¥–æ–º `GET`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π [–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å–µ](https://www.rfc-editor.org/rfc/rfc9110#section-9.3.1). –û–¥–Ω–∞–∫–æ —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (**redirect**), –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, [404 Not Found](https://www.rfc-editor.org/rfc/rfc9110.html#name-404-not-found)), –Ω–µ–ø–æ–ª–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, [206 Partial Content](https://www.rfc-editor.org/rfc/rfc9110.html#name-206-partial-content)) –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –º–µ—Ç–æ–¥—ã, –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç `GET`.


–ö—ç—à —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º (**disconnected**), –∫–æ–≥–¥–∞ –æ–Ω –Ω–µ –º–æ–∂–µ—Ç —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∏—Å—Ö–æ–¥–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º (**origin server**) –∏–ª–∏ –∏–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –Ω–∞–π—Ç–∏ –ø—Ä—è–º–æ–π –ø—É—Ç—å –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞.

___

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫—ç—à

### –ö—ç—à —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏ (headers)**
  - –ö—ç—à **–î–û–õ–ñ–ï–ù** —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –ø–æ–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (**header fields**), –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–µ —Å –æ—Ç–≤–µ—Ç–æ–º, –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞. *(–ï—Å—Ç—å [–∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –ø—Ä–∞–≤–∏–ª](https://www.rfc-editor.org/rfc/rfc9111#section-3.1-1))*.
  - –ö—ç—à **–ú–û–ñ–ï–¢** –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å **trailer fields**, —Ç–∞–∫ –∏ –æ—Ç–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Ö, –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
  - –ö—ç—à **–ú–û–ñ–ï–¢** —Å–æ—Ö—Ä–∞–Ω—è—Ç—å [–Ω–µ–ø–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã](https://www.rfc-editor.org/rfc/rfc9110#section-6.1), –æ—Ç–≤–µ—Ç—ã —Å —á–∞—Å—Ç–∏—á–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º ([**partial-content** üìÇ](./partial-content.md)), –µ—Å–ª–∏ –æ–Ω–∏ —Å–æ–±–ª—é–¥–∞—é—Ç [–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](https://www.rfc-editor.org/rfc/rfc9111#section-3.3-1). –û—Ç–≤–µ—Ç—ã —Å —á–∞—Å—Ç–∏—á–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º ([**partial-content** üìÇ](./partial-content.md)) —Ç–∞–∫ –∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –æ–¥–∏–Ω –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç –¥–ª—è —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –µ—Å–ª–∏ –≤—Å–µ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –Ω–∞–¥–µ–∂–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä ([**validator** üìÇ](./validation.md)) –∏ –∫—ç—à —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç [—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∫–ª–∏–µ–Ω—Ç–∞](https://www.rfc-editor.org/rfc/rfc9110#section-15.3.7.3).
  - –ö—ç—à **–ú–û–ñ–ï–¢** —Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã. [–ü–æ–¥—Ä–æ–±–Ω–µ–µ](https://www.rfc-editor.org/rfc/rfc9111#name-storing-responses-to-authen)

### –ö—ç—à –æ–±–Ω–æ–≤–ª—è–µ—Ç
- –ö—ç—à –º–æ–∂–µ—Ç [–æ–±–Ω–æ–≤–ª—è—Ç—å –ø–æ–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (**header fields**)](https://www.rfc-editor.org/rfc/rfc9111#section-3.2), —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (**response**) –∏–∑ –¥—Ä—É–≥–æ–≥–æ (–æ–±—ã—á–Ω–æ –±–æ–ª–µ–µ –Ω–æ–≤–æ–≥–æ) –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ª—É—á–∞—è—Ö:
  - [Combining Partial Content](https://www.rfc-editor.org/rfc/rfc9111#name-combining-partial-content)
  - [Freshening Stored Responses upon Validation](https://www.rfc-editor.org/rfc/rfc9111#name-freshening-stored-responses)
  - [Freshening Responses with HEAD](https://www.rfc-editor.org/rfc/rfc9111#name-freshening-responses-with-h)
- –ü—Ä–∏ –Ω–∞—á–∞–≤—à–µ–º—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫—ç—à **–î–û–õ–ñ–ï–ù** –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (–æ–±—ã—á–Ω–æ –±–æ–ª–µ–µ –Ω–æ–≤–æ–≥–æ) –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–º—É —Ä–∞–Ω–µ–µ –æ—Ç–≤–µ—Ç—É, –∑–∞–º–µ–Ω–∏–≤ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–∞ –Ω–æ–≤—ã–µ. *–ï—Å—Ç—å [–∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –ø—Ä–∞–≤–∏–ª](https://www.rfc-editor.org/rfc/rfc9111#section-3.2-2)*


___


## [Constructing Responses from Caches](https://www.rfc-editor.org/rfc/rfc9111#name-constructing-responses-from)


–ß—Ç–æ–±—ã –æ—Ç–≤–µ—Ç, –Ω–∞—Ö–æ–¥—è—â–∏–π—Å—è –≤ –∫—ç—à–µ, –º–æ–≥ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, **–î–û–õ–ñ–ù–û** —Å–æ–±–ª—é–¥–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Å–ª–æ–≤–∏–π:
- URI –∏ –º–µ—Ç–æ–¥ ([**method**](./methods.md)) –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –∫—ç—à–µ
- request header fields nominated by the stored response (if any) match those presented (see¬†[Section 4.1](https://www.rfc-editor.org/rfc/rfc9111#caching.negotiated.responses)),
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é `no-cache`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö:
  - ["—Å–≤–µ–∂–∏–º"](https://www.rfc-editor.org/rfc/rfc9111#expiration.model)
  - ["—Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –ø–æ–¥–∞–≤–∞—Ç—å –Ω–µ—Å–≤–µ–∂–∏–º"](https://www.rfc-editor.org/rfc/rfc9111#serving.stale.responses)
  - successfully validated (see¬†[Section 4.3](https://www.rfc-editor.org/rfc/rfc9111#validation.model)).


### Request collapsing (–°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤)

**Request collapsing** - –≠—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–æ–≥–¥–∞ –∫—ç—à –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫—ç—à—É "—Å–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã" - –∏–ª–∏ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –æ–¥–∏–Ω –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ —Å–±–æ–µ –∫—ç—à–∞ - —Ç–µ–º —Å–∞–º—ã–º —Å–Ω–∏–∂–∞—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏ —Å–µ—Ç—å.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [Fastly - Request collapsing](https://www.fastly.com/documentation/guides/concepts/edge-state/cache/request-collapsing/), [Cloudflare - Revalidation and request collapsing](https://developers.cloudflare.com/cache/concepts/revalidation/)


___

## Freshness

### Fresh (—Å–≤–µ–∂–∏–π)

–ö—ç—à —Å—á–∏—Ç–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç ¬´—Å–≤–µ–∂–∏–º¬ª, –µ—Å–ª–∏ –µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç –µ—â–µ –Ω–µ –ø—Ä–µ–≤—ã—Å–∏–ª —Å—Ä–æ–∫–∞ –µ–≥–æ —Å–≤–µ–∂–µ—Å—Ç–∏ –∏ –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –±–µ–∑ "–≤–∞–ª–∏–¥–∞—Ü–∏–∏" ([**validation** üìÇ](./validation.md))

### Stale (–ù–µ—Å–≤–µ–∂–∏–π)

–ö—ç—à —Å—á–∏—Ç–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç ¬´–Ω–µ—Å–≤–µ–∂–∏–º¬ª, –µ—Å–ª–∏ –µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç —É–∂–µ –ø—Ä–µ–≤—ã—Å–∏–ª —Å—Ä–æ–∫–∞ –µ–≥–æ —Å–≤–µ–∂–µ—Å—Ç–∏

–ï—Å–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å–≤–µ–∂–∏–º, –æ–Ω –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –µ–≥–æ –∏–ª–∏ –µ—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–≤–µ—Ä—è—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.
